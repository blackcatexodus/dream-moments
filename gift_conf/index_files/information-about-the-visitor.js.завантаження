!function(t){var e=!1;if("function"==typeof define&&define.amd,!e){var a=window.biatvCookies,i=window.biatvCookies=t();i.noConflict=function(){return window.biatvCookies=a,i}}}(function(){function v(){for(var t=0,e={};t<arguments.length;t++){var a=arguments[t];for(var i in a)e[i]=a[i]}return e}return function t(m){function D(t,e,a){var i;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(a=v({path:"/"},D.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}a.expires=a.expires?a.expires.toUTCString():"";try{i=JSON.stringify(e),/^[\{\[]/.test(i)&&(e=i)}catch(t){}e=m.write?m.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var o="";for(var r in a)a[r]&&(o+="; "+r,!0!==a[r]&&(o+="="+a[r]));return document.cookie=t+"="+e+o}t||(i={});for(var n=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,g=0;g<n.length;g++){var c=n[g].split("="),u=c.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var f=c[0].replace(l,decodeURIComponent);if(u=m.read?m.read(u,f):m(u,f)||u.replace(l,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(t){}if(t===f){i=u;break}t||(i[f]=u)}catch(t){}}return i}}return(D.set=D).get=function(t){return D.call(D,t)},D.getJSON=function(){return D.apply({json:!0},[].slice.call(arguments))},D.defaults={},D.remove=function(t,e){D(t,"",v(e,{expires:-1}))},D.withConverter=t,D}(function(){})}),function(d,w,s){if(window.dataLayer=window.dataLayer||[],!w.BinotelInformationAboutTheVisitor){w.BinotelInformationAboutTheVisitor={gaVersion:"UA",gaObjectName:"window.ga",gaTrackingId:"",debugMode:0,cookieName:"biatv-cookie",errorMessage:""};var searchEnginesList=[{name:"google",regexp:/^www.google/,query:"q"},{name:"yandex",regexp:/yandex.(ua|ru|kz|by|com|tr)$/,query:"text"},{name:"go.mail.ru",regexp:/^go.mail.ru$/,query:"q"},{name:"bing",regexp:/^www.bing/,query:"q"},{name:"yahoo",regexp:/^search.yahoo/,query:"p"},{name:"ask",regexp:/ask.com$/,query:"q"},{name:"rambler",regexp:/rambler.ru$/,query:"query"},{name:"ukr.net",regexp:/^search.ukr.net$/,query:"search_query"},{name:"ukr.net",regexp:/^search.ukr.net$/,query:"search_query"},{name:"meta.ua",regexp:/^search.meta.ua$/,query:"q"},{name:"i.ua",regexp:/^search.i.ua$/,query:"q"},{name:"all.by",regexp:/^all.by$/,query:"query"},{name:"search.tut.by",regexp:/^search.tut.by$/,query:"query"}],socialNetworksList=[],biatvConfig=w.BinotelInformationAboutTheVisitor,biatv;w.BinotelInformationAboutTheVisitorSettings&&(w.BinotelInformationAboutTheVisitorSettings.gaObjectName&&(biatvConfig.gaObjectName=w.BinotelInformationAboutTheVisitorSettings.gaObjectName,-1!==biatvConfig.gaObjectName.indexOf("gtag")&&(biatvConfig.gaVersion="GA4")),w.BinotelInformationAboutTheVisitorSettings.gaTrackingId&&(biatvConfig.gaTrackingId=w.BinotelInformationAboutTheVisitorSettings.gaTrackingId),w.BinotelInformationAboutTheVisitorSettings.timestampOnServerIsNow&&(biatvConfig.timestampOnServerIsNow=w.BinotelInformationAboutTheVisitorSettings.timestampOnServerIsNow),w.BinotelInformationAboutTheVisitorSettings.debugMode&&(biatvConfig.debugMode=w.BinotelInformationAboutTheVisitorSettings.debugMode)),window.BinotelCallTrackingSettings&&(w.BinotelCallTrackingSettings.referralExclusionList&&(biatvConfig.referralExclusionList=w.BinotelCallTrackingSettings.referralExclusionList),w.BinotelCallTrackingSettings.cookieDomain&&(biatvConfig.cookieDomain=w.BinotelCallTrackingSettings.cookieDomain),w.BinotelCallTrackingSettings.clearCookieDomain&&(biatvConfig.clearCookieDomain=w.BinotelCallTrackingSettings.clearCookieDomain)),biatvConfig.debugMode&&console.log("%c [%s] Binotel information about the visitor in processing","color: #999",Date(),biatvConfig),setTimeout(function(){(biatv=new BinotelInformationAboutTheVisitor).init(),biatvConfig.getVisitorData=biatv.getVisitorData,biatvConfig.getGoogleAnalyticsData=biatv.getGoogleAnalyticsData,biatvConfig.getGoogleAnalyticsDataViaCallback=biatv.getGoogleAnalyticsDataViaCallback,biatvConfig.getListOfFoundTrackers=biatv.getListOfFoundTrackers},50);var BinotelInformationAboutTheVisitor=function(){var self={helpers:{},cookies:w.biatvCookies.noConflict(),gaObject:null,googleAnalytics:{initState:!1,data:{name:"",trackingId:"",clientId:"",sessionId:"",version:""},listOfCallbacks:[],listOfFoundTrackers:{}},timers:{initGoogleAnalyticsData:null}};return this.init=function(){self.helpers.initVisitorData(),self.helpers.initGoogleAnalyticsData()},this.getVisitorData=function(){return self.helpers.getVisitorData()},this.getGoogleAnalyticsData=function(){return self.helpers.getGoogleAnalyticsData()},this.getGoogleAnalyticsDataViaCallback=function(t){return self.helpers.getGoogleAnalyticsDataViaCallback(t)},this.getListOfFoundTrackers=function(){return self.helpers.getListOfFoundTrackers()},self.helpers.initVisitorData=function(){var t;biatvConfig.debugMode&&console.log("%c[%s] %s","color: #999",Date(),"Run self.helpers.initVisitorData"),t=biatvConfig.timestampOnServerIsNow?biatvConfig.timestampOnServerIsNow:(biatvConfig.debugMode&&console.log("%c[%s] %s","color: #999",Date(),"Warning! timestampOnServerIsNow does not exist"),Math.floor(Date.now()/1e3)),biatvConfig.cookieDomain&&self.cookies.remove(biatvConfig.cookieName),biatvConfig.clearCookieDomain&&self.cookies.remove(biatvConfig.cookieName,{domain:biatvConfig.clearCookieDomain}),self.visitorData=self.cookies.getJSON(biatvConfig.cookieName),void 0===self.visitorData&&(self.visitorData={firstVisitAt:t,visitsCount:0,campaignCount:0}),self.visitorData.utmData&&(self.visitorData.utmDataCurrent=self.visitorData.utmData,delete self.visitorData.utmData),self.visitorData.sessionTimeFirst&&(self.visitorData.firstVisitAt=self.visitorData.sessionTimeFirst,delete self.visitorData.sessionTimeFirst),void 0===self.visitorData.visitsCount&&(self.visitorData.visitsCount=1),void 0===self.visitorData.currentVisitStartedAt&&(self.visitorData.currentVisitStartedAt=t),void 0===self.visitorData.currentVisitLandingPage&&(self.visitorData.currentVisitLandingPage=w.location.href),void 0===self.visitorData.currentVisitOpenPages&&(self.visitorData.currentVisitOpenPages=0),self.visitorData.sessionTimeCurrent&&(self.visitorData.currentVisitUpdatedAt=self.visitorData.sessionTimeCurrent,delete self.visitorData.sessionTimeCurrent),(!self.visitorData.currentVisitUpdatedAt||14400<t-self.visitorData.currentVisitUpdatedAt)&&(self.visitorData.visitsCount++,self.visitorData.currentVisitStartedAt=t,self.visitorData.currentVisitLandingPage=w.location.href,self.visitorData.currentVisitOpenPages=0),self.visitorData.location=w.location.href,self.visitorData.locationTitle=document.title,self.visitorData.userAgent=w&&w.navigator&&w.navigator.userAgent?w.navigator.userAgent:"",self.visitorData.language=(w.navigator.languages?w.navigator.languages[0]:w.navigator.language||w.navigator.browserLanguage||w.navigator.userLanguage).toLowerCase(),self.visitorData.encoding=(d.characterSet||d.charset).toLowerCase(),self.visitorData.screenResolution=w.screen.width+"x"+w.screen.height,self.visitorData.currentVisitUpdatedAt=t,self.visitorData.currentVisitOpenPages++;var e=self.helpers.parseQueryString(w.location.search),a=self.helpers.parseReferrer(d.referrer),i=self.helpers.parseQueryString(a.search),s=!1;if(a.hostname&&biatvConfig.referralExclusionList&&0<biatvConfig.referralExclusionList.length)for(var o=0;o<biatvConfig.referralExclusionList.length;o++)-1!==a.hostname.indexOf(biatvConfig.referralExclusionList[o])&&(s=!0);if(e.gclid&&!e.utm_source)self.visitorData.utmDataCurrent={},self.visitorData.utmDataCurrent.gclid=e.gclid,self.visitorData.utmDataCurrent.utm_source="google",self.visitorData.utmDataCurrent.utm_medium="cpc",self.visitorData.utmDataCurrent.utm_campaign="(not set)",self.visitorData.utmDataCurrent.utm_content="(not set)",self.visitorData.utmDataCurrent.utm_term="(not set)",self.visitorData.utmDataCurrent.beginning_at=t,self.visitorData.campaignTime=t,self.visitorData.campaignCount++;else if(e.utm_source)self.visitorData.utmDataCurrent={},e.gclid&&(self.visitorData.utmDataCurrent.gclid=e.gclid),self.visitorData.utmDataCurrent.utm_source=e.utm_source,self.visitorData.utmDataCurrent.utm_medium=e.utm_medium||"(not set)",self.visitorData.utmDataCurrent.utm_campaign=e.utm_campaign||"(not set)",self.visitorData.utmDataCurrent.utm_content=e.utm_content||"(not set)",self.visitorData.utmDataCurrent.utm_term=e.utm_term||"(not set)",self.visitorData.utmDataCurrent.beginning_at=t,self.visitorData.campaignTime=t,self.visitorData.campaignCount++;else if(a.hostname&&a.hostname!==w.location.hostname&&!s){self.visitorData.utmDataCurrent=void 0;for(o=0;o<searchEnginesList.length;o++)if(searchEnginesList[o].regexp.test(a.hostname)){self.visitorData.utmDataCurrent={},self.visitorData.utmDataCurrent.utm_source=searchEnginesList[o].name,self.visitorData.utmDataCurrent.utm_medium="organic",self.visitorData.utmDataCurrent.utm_campaign="(not set)",self.visitorData.utmDataCurrent.utm_content="(not set)",self.visitorData.utmDataCurrent.utm_term="https:"===a.protocol?"(not provided)":i[searchEnginesList[o].query]||"(not set)",self.visitorData.utmDataCurrent.beginning_at=t,self.visitorData.campaignTime=t,self.visitorData.campaignCount++;break}self.visitorData.utmDataCurrent,self.visitorData.utmDataCurrent||(self.visitorData.utmDataCurrent={},self.visitorData.utmDataCurrent.utm_source=a.hostname,self.visitorData.utmDataCurrent.utm_medium="referral",self.visitorData.utmDataCurrent.utm_campaign="(referral)",self.visitorData.utmDataCurrent.utm_content=a.pathname,self.visitorData.utmDataCurrent.utm_term="(not set)",self.visitorData.utmDataCurrent.beginning_at=t,self.visitorData.campaignTime=t,self.visitorData.campaignCount++)}else self.visitorData.utmDataCurrent||(self.visitorData.utmDataCurrent={},self.visitorData.utmDataCurrent.utm_source="(direct)",self.visitorData.utmDataCurrent.utm_medium="(none)",self.visitorData.utmDataCurrent.utm_campaign="(direct)",self.visitorData.utmDataCurrent.utm_content="(not set)",self.visitorData.utmDataCurrent.utm_term="(not set)",self.visitorData.utmDataCurrent.beginning_at=t,self.visitorData.campaignTime=t,self.visitorData.campaignCount++);var r={utm_source:self.visitorData.utmDataCurrent.utm_source,utm_medium:self.visitorData.utmDataCurrent.utm_medium,utm_campaign:self.visitorData.utmDataCurrent.utm_campaign,utm_content:self.visitorData.utmDataCurrent.utm_content,utm_term:self.visitorData.utmDataCurrent.utm_term,beginning_at:self.visitorData.utmDataCurrent.beginning_at};self.visitorData.utmDataFirst||(self.visitorData.utmDataFirst=r),"cpc"===self.visitorData.utmDataCurrent.utm_medium&&(self.visitorData.utmDataFirstPaid||(self.visitorData.utmDataFirstPaid=r),self.visitorData.utmDataLastPaid=r),self.visitorData.geoipData={country:"Ukraine",region:"Kyiv City",city:"Kyiv",org:""},self.cookies.set(biatvConfig.cookieName,{firstVisitAt:self.visitorData.firstVisitAt,visitsCount:self.visitorData.visitsCount,currentVisitStartedAt:self.visitorData.currentVisitStartedAt,currentVisitLandingPage:self.visitorData.currentVisitLandingPage,currentVisitUpdatedAt:self.visitorData.currentVisitUpdatedAt,currentVisitOpenPages:self.visitorData.currentVisitOpenPages,campaignTime:self.visitorData.campaignTime,campaignCount:self.visitorData.campaignCount,utmDataCurrent:self.visitorData.utmDataCurrent,utmDataFirst:self.visitorData.utmDataFirst,utmDataFirstPaid:self.visitorData.utmDataFirstPaid,utmDataLastPaid:self.visitorData.utmDataLastPaid},{expires:730,domain:biatvConfig.cookieDomain||""})},self.helpers.initGoogleAnalyticsData=function(attempts){if(clearTimeout(self.timers.initGoogleAnalyticsData),attempts=attempts||1,!biatvConfig.debugMode||1!==attempts&&200!==attempts&&attempts%10!=0||console.log("%c[%s] !!! %s [attempt: %s]","color: #999",Date(),"Run self.helpers.initGoogleAnalyticsData",attempts),201<=attempts)return biatvConfig.debugMode&&(biatvConfig.errorMessage="Can't find GA",console.log("%c[%s] %s","background: #fc7c7c; color: #fff",Date(),biatvConfig.errorMessage)),self.googleAnalytics.initState="failed",biatvConfig.debugMode&&(console.log("%c[%s] %s: %s","background: #fc7c7c; color: #fff",Date(),"Completed self.helpers.initGoogleAnalyticsData",self.googleAnalytics.initState,self.googleAnalytics.data),console.log("[%s] %s:",Date(),"List of found trackers",self.googleAnalytics.listOfFoundTrackers)),!1;self.gaObject=eval(biatvConfig.gaObjectName),"UA"===biatvConfig.gaVersion&&("function"!=typeof self.gaObject||"function"!=typeof self.gaObject.getAll)||"GA4"===biatvConfig.gaVersion&&(self.gaObject,0)?self.timers.initGoogleAnalyticsData=setTimeout(function(){self.helpers.initGoogleAnalyticsData(++attempts)},attempts<=100?200:1e3):"UA"===biatvConfig.gaVersion?self.gaObject(function(){var t=self.gaObject.getAll();if(t.length){for(var e=0;e<t.length;e++)self.googleAnalytics.listOfFoundTrackers[t[e].get("trackingId")]={trackingId:t[e].get("trackingId"),clientId:t[e].get("clientId")};var a=0,i=!1;if(biatvConfig.gaTrackingId)for(e=0;e<t.length;e++)if(biatvConfig.gaTrackingId===t[e].get("trackingId")&&t[e].get("clientId")){a=e,i=!0;break}!i&&biatvConfig.gaTrackingId?self.timers.initGoogleAnalyticsData=setTimeout(function(){self.helpers.initGoogleAnalyticsData(++attempts)},attempts<=100?200:1e3):(self.googleAnalytics.data.name=t[a].get("name"),self.googleAnalytics.data.trackingId=t[a].get("trackingId"),self.googleAnalytics.data.clientId=t[a].get("clientId"),self.googleAnalytics.data.version=biatvConfig.gaVersion,self.helpers.gaDataIsReady())}else self.timers.initGoogleAnalyticsData=setTimeout(function(){self.helpers.initGoogleAnalyticsData(++attempts)},attempts<=100?200:1e3)}):"GA4"===biatvConfig.gaVersion&&(biatvConfig.debugMode&&console.log("%c[%s] %s","color: #999",Date(),"Sending request to gtag to get client_id"),self.helpers.gtag("get",biatvConfig.gaTrackingId||"G-X","client_id",function(t){var e;e=biatvConfig.gaTrackingId?biatvConfig.gaTrackingId:self.helpers.findFirstGA4TagId()||"",self.googleAnalytics.listOfFoundTrackers[e]={trackingId:e,clientId:t,sessionId:"",version:biatvConfig.gaVersion},self.googleAnalytics.data.name="",self.googleAnalytics.data.trackingId=e,self.googleAnalytics.data.clientId=t,self.googleAnalytics.data.version=biatvConfig.gaVersion,e?(biatvConfig.debugMode&&console.log("%c[%s] %s","color: #999",Date(),"Sending request to gtag to get session_id"),self.helpers.gtag("get",e,"session_id",function(t){self.googleAnalytics.data.sessionId=t,self.helpers.gaDataIsReady()})):self.helpers.gaDataIsReady()}))},self.helpers.gaDataIsReady=function(){self.googleAnalytics.initState="success",self.helpers.sendGoogleAnalyticsDataViaCallback(),biatvConfig.debugMode&&(console.log("[%s] %s: %s",Date(),"Completed self.helpers.initGoogleAnalyticsData",self.googleAnalytics.initState,self.googleAnalytics.data),console.log("%c[%s] %s:","color: #999",Date(),"List of found trackers",self.googleAnalytics.listOfFoundTrackers))},self.helpers.getVisitorData=function(){return self.visitorData},self.helpers.getGoogleAnalyticsData=function(){return self.googleAnalytics.data},self.helpers.getGoogleAnalyticsDataViaCallback=function(t){"failed"===self.googleAnalytics.initState?t(self.helpers.getGoogleAnalyticsData()):"success"===self.googleAnalytics.initState?t(self.helpers.getGoogleAnalyticsData()):self.googleAnalytics.listOfCallbacks.push(t)},self.helpers.sendGoogleAnalyticsDataViaCallback=function(){for(var t=0;t<self.googleAnalytics.listOfCallbacks.length;t++)"function"==typeof self.googleAnalytics.listOfCallbacks[t]&&self.googleAnalytics.listOfCallbacks[t](self.helpers.getGoogleAnalyticsData());self.googleAnalytics.listOfCallbacks=[]},self.helpers.getListOfFoundTrackers=function(){return self.googleAnalytics.listOfFoundTrackers},self.helpers.gtag=function(){dataLayer.push(arguments)},self.helpers.findFirstGA4TagId=function(t){for(var e=d.getElementsByTagName("script"),a=0;a<e.length;a++)if(e[a].getAttribute("src")&&-1!==e[a].getAttribute("src").indexOf("https://www.googletagmanager.com/gtag/js?id=G-")){var i=e[a].getAttribute("src").match(/id=(G-(\w)+)/);return!(!i||!i[1])&&i[1]}},self.helpers.parseQueryString=function(t){for(var e,a=/[?&]([^=#&]+)=([^&#]*)/g,i={};e=a.exec(t);)try{i[decodeURIComponent(e[1])]=decodeURIComponent(e[2])}catch(t){}return i},self.helpers.parseReferrer=function(t){var e={hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",port:"",protocol:"",search:""};if(""!==t){var a=document.createElement("a");a.href=t,e.hash=a.hash,e.host=a.host,e.hostname=a.hostname,e.href=a.href,e.origin=a.origin,e.pathname=a.pathname,e.port=a.port,e.protocol=a.protocol,e.search=a.search}return e},this};Date.now||(Date.now=function(){return(new Date).getTime()}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})}}(document,window,"script");